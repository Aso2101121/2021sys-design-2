# データベース設計書 #
AUTO_INCREMENT…自動採番
******
### 購入マスタ <m_purchase> ###
|    和名    |    属性名    |      型       | PK | FK | NN |    その他    |
|------------|--------------|--------------|----|----|----|--------------|
|注文ID      |order_id      |int(20)       |〇  |-   |〇  |AUTO_INCREMENT|
|顧客コード  |customer_code |varchar(50)   |〇  |〇   |〇  |ユーザーマスタ参照|
|注文日      |purchase_date |date          |-   |-   |〇  |-             |
|お届け日    |delivery_date |date          |-   |-   |〇  |-             |
|合計金額    |total_price   |int(10)       |-   |-   |〇  |-             |

*****
### 購入テーブル詳細 <d_purchase_detail> ###
|    和名    |    属性名    |      型       | PK | FK | NN |    その他    |
|------------|-------------|---------------|----|----|----|--------------|
|購入ID     |detail_id     |int(20)       |〇  |-    |〇  |AUTO_INCREMENT|
|注文ID     |order_id      |int(20)       |〇  |〇   |〇  |購入マスタ参照 |
|商品コード |item_code     |int(20)       |-   |-    |〇  |-             |
|金額      |price         |int(10)        |-   |-    |〇  |-             |
|個数      |num           |int(10)        |-   |-    |〇  |-             |

*****
### 顧客マスタ <m_customers> ###
|      和名      |    属性名    |      型      | PK | FK | NN |    その他    |
|----------------|-------------|--------------|----|----|----|--------------|
|顧客コード      |customer_code |varchar(50)   |〇  |-   |〇  |AUTO_INCREMENT|
|顧客名　　      |name          |varchar(50)   |-   |-   |〇  |-             |
|パスワード      |pass          |varchar(50)   |-   |-   |〇  |-             |
|住所           |address       |varchar(100)  |-   |-   |〇  |-             |
|電話番号       |tel           |varchar(20)   |-   |-   |〇  |-             |
|メールアドレス |mail          |varchar(100)  |-   |-   |〇  |-             |
|削除フラグ     |del_flag      |int(1)        |-   |-   |-   |デフォルト値:NULL|
|登録日        |reg_date      |date           |-   |-   |〇  |-             |

*****
### カテゴリテーブル <d_category> ###
|     和名     |    項目名    |      型      | PK | FK | NN |    その他    |
|--------------|--------------|-------------|----|----|----|--------------|
|カテゴリーID  |category_id   |int(11)       |〇  |-   |〇  |AUTO_INCREMENT|
|名前         |name          |varchar(20)   |-   |-   |〇  |-             |
|登録日       |reg_date      |date          |-   |-   |〇  |-             |

*****
### 商品マスタ <m_item> ###
|     和名     |     項目名    |      型      | PK | FK | NN |    その他    |
|--------------|--------------|--------------|----|----|----|--------------|
|商品コード     |item_code     |int(11)       |〇  |-   |〇  |デフォルト値:0|
|メーカーID     |maker_id      |int(3)        |〇  |〇  |〇  |メーカーマスタ参照|
|商品名         |item_name     |varchar(20)   |-   |-   |〇  |-             |
|金額           |price         |int(11)       |-   |-   |〇  |-             |
|商品画像       |image         |varchar(200)  |-   |-   |〇  |-             |
|商品説明       |text          |varchar(500)  |-   |-   |-   |-             |
|商品詳細       |detail        |varchar(500)  |-   |-   |-   |デフォルト値:NULL|
|削除フラグ     |del_flag      |int(10)       |-   |-   |-   |デフォルト値:NULL|
|システム日付   |reg_date      |date          |-   |-   |〇   |-             |

*****
### お気に入りテーブル <d_favorite> ###
|     和名      |     項目名    |       型         | PK | FK | NN |    その他    |
|--------------|---------------|------------------|----|----|----|--------------|
|お気に入りID   |favorite_id    |int(11)           |〇   |-   |〇  |AUTO-INCREMENT|
|顧客コード     |customer_code  |int(11)           |〇  |〇   |〇  |顧客マスタ参照         |
|商品名         |item_name      |varchar(20)      |-   |-    |〇   |-            |

*****
### 退会テーブル <d_withdrawal> ###
|     和名     |    項目名    |        型         | PK | FK | NN |    その他    |
|-------------|--------------|--------------------|----|----|----|--------------|
|退会ID       |with_id        |int(11)            |〇  |-   |〇  |AUTO-INCREMENT|
|顧客コード   |costomer_code  |varchar(50)        |-  |〇  |〇  |顧客マスタ参照 |
|退会した日付 |with_date      |date               |-   |-   |〇  |-              |
|理由        |option          |varchar(200)       |-   |-   |-  |デフォルト値:NULL|

*****
### カートテーブル <d_cart> ###
|     和名     |    項目名    |        型          | PK | FK | NN |    その他    |
|--------------|--------------|-------------------|----|----|----|--------------|
|カートID      |cart_id       |int(11)             |〇  |-   |〇  |AUTO-INCREMENT|
|顧客コード    |customer_code |varchar(50)         |〇  |〇  |〇  |顧客マスタ参照|
|商品ID        |item_code     |int(11)             |〇  |〇  |〇  |商品マスタ参照|
|購入数        |cart_num      |int(5)              |-   |-   |〇  |デフォルト値:０|

*****
### 商品変更 <d_itemChange> ###
|     和名      |    項目名    |        型          | PK | FK | NN |    その他    |
|--------------|--------------|--------------------|----|----|----|--------------|
|ID            |change_id     |int(11)             |〇  |-   |〇   |AUTO-INCREMENT|
|商品コード     |item_code     |int(11)             |〇  |〇  |〇   |商品マスタ参照|
|変更フラグ     |change_flg    |char(1)             |-   |-   |〇  |-             |
|変更したいテキスト|change_text |varchar(200)       |-  |-    |-   |-             |
|変更したい値   |change_index  |int(6)              |-   |-   |-  |-              |

*****
### メーカーマスタ <m_maker> ###
|     和名      |    項目名    |        型          | PK | FK | NN |    その他    |
|--------------|--------------|--------------------|----|----|----|--------------|
|メーカーID     |maker_id      |int(3)             |〇  |-    |〇  |AUTO-INCREMENT|
|メーカー名     |maker_name    |varchar(100)        |-   |-   |〇  |-             |
|メールアドレス |adress        |varchar(200)        |-   |-   |〇  |-             |
|電話番号       |tel           |varchar(20)         |-   |-   |〇  |-             |
|登録日         |reg_date      |date                |-   |-   |〇  |-             |



